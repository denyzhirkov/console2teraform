variable "aws_region" {
  description = "AWS region to deploy resources"
  type        = string
  default     = "us-east-1"
}

variable "aws_profile" {
  description = "AWS CLI profile to use"
  type        = string
  default     = "default"
}

<% if (vpcs && vpcs.length) { vpcs.forEach(function(vpc) { %>
variable "<%= vpc.resourceName %>_cidr_block" {
  description = "CIDR block for VPC <%= vpc.resourceName %>"
  type        = string
  default     = "<%= vpc.cidrBlock %>"
}
<% }) } %>

<% if (subnets && subnets.length) { subnets.forEach(function(subnet) { %>
variable "<%= subnet.resourceName %>_cidr_block" {
  description = "CIDR block for Subnet <%= subnet.resourceName %>"
  type        = string
  default     = "<%= subnet.cidrBlock %>"
}
variable "<%= subnet.resourceName %>_availability_zone" {
  description = "Availability zone for Subnet <%= subnet.resourceName %>"
  type        = string
  default     = "<%= subnet.availabilityZone %>"
}
<% }) } %>

<% if (igws && igws.length) { igws.forEach(function(igw) { %>
<% if (igw.vpcId) { %>variable "<%= igw.resourceName %>_vpc_id" {
  description = "VPC ID for IGW <%= igw.resourceName %>"
  type        = string
  default     = "<%= igw.vpcId %>"
}
<% } %><% }) } %>

<% if (routeTables && routeTables.length) { routeTables.forEach(function(rt) { %>
variable "<%= rt.resourceName %>_vpc_id" {
  description = "VPC ID for Route Table <%= rt.resourceName %>"
  type        = string
  default     = "<%= rt.vpcId %>"
}
<% }) } %>

<% if (securityGroups && securityGroups.length) { securityGroups.forEach(function(sg) { %>
variable "<%= sg.resourceName %>_description" {
  description = "Description for Security Group <%= sg.resourceName %>"
  type        = string
  default     = "<%= sg.description %>"
}
<% if (sg.vpcId) { %>variable "<%= sg.resourceName %>_vpc_id" {
  description = "VPC ID for Security Group <%= sg.resourceName %>"
  type        = string
  default     = "<%= sg.vpcId %>"
}
<% } %><% }) } %>

<% if (ec2 && ec2.length) { ec2.forEach(function(instance) { %>
variable "<%= instance.resourceName %>_ami" {
  description = "AMI for EC2 <%= instance.resourceName %>"
  type        = string
  default     = "<%= instance.ami || '' %>"
}
variable "<%= instance.resourceName %>_instance_type" {
  description = "Instance type for EC2 <%= instance.resourceName %>"
  type        = string
  default     = "<%= instance.instanceType || '' %>"
}
variable "<%= instance.resourceName %>_subnet_id" {
  description = "Subnet ID for EC2 <%= instance.resourceName %>"
  type        = string
  default     = "<%= instance.subnetId || '' %>"
}
variable "<%= instance.resourceName %>_vpc_id" {
  description = "VPC ID for EC2 <%= instance.resourceName %>"
  type        = string
  default     = "<%= instance.vpcId || '' %>"
}
variable "<%= instance.resourceName %>_security_groups" {
  description = "Security groups for EC2 <%= instance.resourceName %>"
  type        = list(string)
  default     = [<%= (instance.securityGroups || []).map(sg => `"${sg}"`).join(', ') %>]
}
variable "<%= instance.resourceName %>_tags" {
  description = "Tags for EC2 <%= instance.resourceName %>"
  type        = map(string)
  default     = {
<% Object.entries(instance.tags || {}).forEach(([k, v]) => { %>    <%= k %> = "<%= v %>"
<% }) %>  }
}
<% }) } %>

<% if (s3 && s3.length) { s3.forEach(function(bucket) { %>
variable "<%= bucket.resourceName %>_bucket" {
  description = "Bucket name for S3 <%= bucket.resourceName %>"
  type        = string
  default     = "<%= bucket.bucket %>"
}
<% }) } %> 